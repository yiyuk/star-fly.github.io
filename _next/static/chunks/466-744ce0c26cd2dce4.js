"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[466],{5970:function(e,a,n){n.d(a,{Rs:function(){return t},ey:function(){return s},is:function(){return l},zX:function(){return o}});let t=(e,a,n)=>{window.addEventListener("resize",()=>{console.log("resize"),e.width=window.innerWidth,e.height=window.innerHeight,a.aspect=e.width/e.height,a.updateProjectionMatrix(),n.setSize(e.width,e.height),n.setPixelRatio(Math.min(window.devicePixelRatio,2))})},r=e=>{let a=document.fullscreenElement||document.webkitFullscreenElement;a?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen():e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen()},s=e=>{window.addEventListener("dblclick",()=>{r(e)})},l=(e,a)=>{let n=Math.min(e,a);return Math.random()*(Math.max(e,a)-n)+n};function o(e,a){var n=!1;"#"==e[0]&&(e=e.slice(1),n=!0);var t=parseInt(e,16),r=(t>>16)+a;r>255?r=255:r<0&&(r=0);var s=(t>>8&255)+a;s>255?s=255:s<0&&(s=0);var l=(255&t)+a;return l>255?l=255:l<0&&(l=0),(n?"#":"")+(l|s<<8|r<<16).toString(16)}},4261:function(e,a,n){n.r(a),n.d(a,{StarBoard:function(){return t},StarChannel:function(){return r},StarRoute:function(){return s},chessData:function(){return d},default:function(){return c},dicePosiston:function(){return l},gameData:function(){return i},homeIndex:function(){return o}});let t=[{index:0,x:85,y:63,angle:270,player:3,chess:[]},{index:1,x:79,y:65,angle:270,player:0,chess:[]},{index:2,x:73.5,y:65,angle:270,player:1,chess:[]},{index:3,x:67.5,y:63,angle:270,player:2,chess:[]},{index:4,x:63,y:67.5,angle:180,player:3,chess:[]},{index:5,x:65,y:73.5,angle:180,player:0,chess:[]},{index:6,x:65,y:79,angle:180,player:1,chess:[]},{index:7,x:63,y:85,angle:180,player:2,chess:[]},{index:8,x:57,y:87,angle:270,player:3,chess:[]},{index:9,x:51.5,y:87,angle:270,player:0,chess:[]},{index:10,x:46,y:87,angle:270,player:1,chess:[]},{index:11,x:40.5,y:87,angle:270,player:2,chess:[]},{index:12,x:35,y:87,angle:270,player:3,chess:[]},{index:13,x:29.5,y:85,angle:0,player:0,chess:[]},{index:14,x:27,y:79,angle:0,player:1,chess:[]},{index:15,x:27,y:73.5,angle:0,player:2,chess:[]},{index:16,x:29.5,y:68,angle:0,player:3,chess:[]},{index:17,x:24.5,y:63,angle:270,player:0,chess:[]},{index:18,x:18.5,y:65,angle:270,player:1,chess:[]},{index:19,x:13,y:65,angle:270,player:2,chess:[]},{index:20,x:7.5,y:62.5,angle:270,player:3,chess:[]},{index:21,x:5.5,y:57,angle:0,player:0,chess:[]},{index:22,x:5.5,y:51.5,angle:0,player:1,chess:[]},{index:23,x:5.5,y:46.5,angle:0,player:2,chess:[]},{index:24,x:5.5,y:41,angle:0,player:3,chess:[]},{index:25,x:5.5,y:35.5,angle:0,player:0,chess:[]},{index:26,x:7.5,y:29.5,angle:90,player:1,chess:[]},{index:27,x:13,y:27.5,angle:90,player:2,chess:[]},{index:28,x:18.5,y:27.5,angle:90,player:3,chess:[]},{index:29,x:24.5,y:29.5,angle:90,player:0,chess:[]},{index:30,x:29.5,y:25,angle:0,player:1,chess:[]},{index:31,x:27,y:19,angle:0,player:2,chess:[]},{index:32,x:27,y:13.5,angle:0,player:3,chess:[]},{index:33,x:29,y:7.5,angle:0,player:0,chess:[]},{index:34,x:35,y:5.5,angle:90,player:1,chess:[]},{index:35,x:41,y:5.5,angle:90,player:2,chess:[]},{index:36,x:46,y:5.5,angle:90,player:3,chess:[]},{index:37,x:51.5,y:5.5,angle:90,player:0,chess:[]},{index:38,x:57,y:5.5,angle:90,player:1,chess:[]},{index:39,x:63,y:7.5,angle:180,player:2,chess:[]},{index:40,x:65,y:13.5,angle:180,player:3,chess:[]},{index:41,x:65,y:19,angle:180,player:0,chess:[]},{index:42,x:63,y:25,angle:180,player:1,chess:[]},{index:43,x:67.5,y:29.5,angle:90,player:2,chess:[]},{index:44,x:73.5,y:27.5,angle:90,player:3,chess:[]},{index:45,x:79,y:27.5,angle:90,player:0,chess:[]},{index:46,x:85,y:29.5,angle:90,player:1,chess:[]},{index:47,x:87,y:35.5,angle:180,player:2,chess:[]},{index:48,x:87,y:41,angle:180,player:3,chess:[]},{index:49,x:87,y:46,angle:180,player:0,chess:[]},{index:50,x:87,y:51.5,angle:180,player:1,chess:[]},{index:51,x:87,y:57,angle:180,player:2,chess:[]},{index:52,x:79,y:46,angle:270,player:0,chess:[]},{index:53,x:73.5,y:46,angle:270,player:0,chess:[]},{index:54,x:68,y:46,angle:270,player:0,chess:[]},{index:55,x:62.5,y:46,angle:270,player:0,chess:[]},{index:56,x:57,y:46,angle:270,player:0,chess:[]},{index:57,x:51.5,y:46,angle:270,player:0,chess:[]},{index:58,x:46.2,y:79,angle:0,player:1,chess:[]},{index:59,x:46.2,y:73.5,angle:0,player:1,chess:[]},{index:60,x:46.2,y:68,angle:0,player:1,chess:[]},{index:61,x:46.2,y:62.5,angle:0,player:1,chess:[]},{index:62,x:46.2,y:57.3,angle:0,player:1,chess:[]},{index:63,x:46.2,y:51.5,angle:0,player:1,chess:[]},{index:64,x:13.3,y:46,angle:90,player:2,chess:[]},{index:65,x:18.7,y:46,angle:90,player:2,chess:[]},{index:66,x:24,y:46,angle:90,player:2,chess:[]},{index:67,x:29.7,y:46,angle:90,player:2,chess:[]},{index:68,x:35,y:46,angle:90,player:2,chess:[]},{index:69,x:41,y:46,angle:90,player:2,chess:[]},{index:70,x:46.2,y:13.5,angle:180,player:3,chess:[]},{index:71,x:46.2,y:18.7,angle:180,player:3,chess:[]},{index:72,x:46.2,y:24.1,angle:180,player:3,chess:[]},{index:73,x:46.2,y:29.5,angle:180,player:3,chess:[]},{index:74,x:46.2,y:35,angle:180,player:3,chess:[]},{index:75,x:46.2,y:41,angle:180,player:3,chess:[]},{index:76,x:92.5,y:66.8,angle:270,player:0,chess:[]},{index:77,x:78.15,y:78.35,angle:270,player:0,chess:[]},{index:78,x:78.15,y:86.6,angle:270,player:0,chess:[]},{index:79,x:86.65,y:78.35,angle:270,player:0,chess:[]},{index:80,x:86.55,y:86.5,angle:270,player:0,chess:[]},{index:81,x:25.5,y:92.5,angle:0,player:1,chess:[]},{index:82,x:5.8,y:78.2,angle:0,player:1,chess:[]},{index:83,x:5.8,y:86.5,angle:0,player:1,chess:[]},{index:84,x:14.1,y:78.1,angle:0,player:1,chess:[]},{index:85,x:14.1,y:86.4,angle:0,player:1,chess:[]},{index:86,x:0,y:25.6,angle:90,player:2,chess:[]},{index:87,x:5.7,y:5.8,angle:90,player:2,chess:[]},{index:88,x:5.7,y:13.9,angle:90,player:2,chess:[]},{index:89,x:14.1,y:5.8,angle:90,player:2,chess:[]},{index:90,x:14.1,y:13.8,angle:90,player:2,chess:[]},{index:91,x:66.8,y:0,angle:180,player:3,chess:[]},{index:92,x:78.3,y:5.6,angle:180,player:3,chess:[]},{index:93,x:78.3,y:14.1,angle:180,player:3,chess:[]},{index:94,x:86.55,y:5.6,angle:180,player:3,chess:[]},{index:95,x:86.45,y:14.1,angle:180,player:3,chess:[]}],r=[[17,30,43,4],[29,42,3,16]],s=[[76,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,52,53,54,55,56,57],[81,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,0,1,2,3,4,5,6,7,8,9,10,58,59,60,61,62,63],[86,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,64,65,66,67,68,69],[91,39,40,41,42,43,44,45,46,47,48,49,50,51,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,70,71,72,73,74,75]],l=[{x:.4,y:.8},{x:-1.8,y:.8},{x:-1.8,y:-1.2},{x:.4,y:-1.2}],o=[77,78,79,80,82,83,84,85,87,88,89,90,92,93,94,95],i={state:"start",currentPlayer:0,dice:0,round:0,currentStar:-1,touchStar:-1},d=[{index:77,player:0,state:"home"},{index:78,player:0,state:"home"},{index:79,player:0,state:"home"},{index:80,player:0,state:"home"},{index:82,player:1,state:"home"},{index:83,player:1,state:"home"},{index:84,player:1,state:"home"},{index:85,player:1,state:"home"},{index:87,player:2,state:"home"},{index:88,player:2,state:"home"},{index:89,player:2,state:"home"},{index:90,player:2,state:"home"},{index:92,player:3,state:"home"},{index:93,player:3,state:"home"},{index:94,player:3,state:"home"},{index:95,player:3,state:"home"}];function c(){}},2466:function(e,a,n){n.r(a);var t=n(5893),r=n(9477),s=n(9365),l=n(7637),o=n(5970),i=n(7294),d=n(4261);let c=()=>(console.log("StarFlyChess"),(0,i.useEffect)(()=>{let e,a,n,t,i,c,y,h,x,p,g;console.log("useEffect");let u=document.querySelector("#mainCanvas"),m=new r.xsS,D={width:window.innerWidth,height:window.innerHeight},f=new r.cPb(75,D.width/D.height,.1,100);f.position.set(0,0,8);let C=new s.z(f,u);C.enablePan=!1;let w=[],S={isLockCamara:!1,count:500,size:.02,radius:3,randomness:.2,randomnessPower:4,starJumpTime:500,sceneColor:"#000000",player0Color:"#ff6030",player1Color:"#3de93a",player2Color:"#ffbb00",player3Color:"#0062ff",playerColor:["#ff6030","#3de93a","#ffbb00","#0062ff"],playerTouchColor:[(0,o.zX)("#ff6030",70),(0,o.zX)("#3de93a",70),(0,o.zX)("#ffbb00",70),(0,o.zX)("#0062ff",70)]};m.background=new r.Ilk(S.sceneColor);let P=new r.Ilk("#ffffff");function b(){n&&(e.dispose(),a.dispose(),m.remove(n)),e=new r.u9r;var t=d.StarBoard.length;let s=new Float32Array(S.count*(t+4)*3),l=new Float32Array(S.count*(t+4)*3);for(let e=0;e<t;e++)for(let a=0;a<S.count;a++){let n=(e*S.count+a)*3,t=new r.Ilk(S.playerColor[d.StarBoard[e].player]);t.lerp(P,(0,o.is)(0,.1)),a%2==0?(s[n]=d.StarBoard[e].x/10-5+(0,o.is)(0,.3)*(.5>Math.random()?1:-1),s[n+1]=d.StarBoard[e].y/10-5+(0,o.is)(.22,.3)*(.5>Math.random()?1:-1)):(s[n]=d.StarBoard[e].x/10-5+(0,o.is)(.22,.3)*(.5>Math.random()?1:-1),s[n+1]=d.StarBoard[e].y/10-5+(0,o.is)(0,.3)*(.5>Math.random()?1:-1)),s[n+2]=0,l[n]=t.r,l[n+1]=t.g,l[n+2]=t.b}for(let e=0;e<4;e++)for(let a=0;a<S.count;a++){let n=((e+t)*S.count+a)*3,i=new r.Ilk(S.playerColor[e]);if(d.StarBoard[d.StarChannel[0][e]].x===d.StarBoard[d.StarChannel[1][e]].x){s[n]=d.StarBoard[d.StarChannel[0][e]].x/10-5+(0,o.is)(-.2,.2);let a=d.StarBoard[d.StarChannel[0][e]].y/10-5,t=d.StarBoard[d.StarChannel[1][e]].y/10-5;s[n+1]=(0,o.is)(a+(a<0?.3:-.3),t+(t<0?.3:-.3)),i.lerp(P,1-Math.abs(2*s[n+1]/(a-t)))}else{let a=d.StarBoard[d.StarChannel[0][e]].x/10-5,t=d.StarBoard[d.StarChannel[1][e]].x/10-5;s[n]=(0,o.is)(a+(a<0?.3:-.3),t+(t<0?.3:-.3)),s[n+1]=d.StarBoard[d.StarChannel[0][e]].y/10-5+(0,o.is)(-.2,.2),i.lerp(P,1-Math.abs(2*s[n]/(a-t)))}s[n+2]=Math.random()**S.randomnessPower*(.5>Math.random()?1:-1)*S.randomness*Math.random()*S.radius,l[n]=i.r,l[n+1]=i.g,l[n+2]=i.b}e.setAttribute("position",new r.TlE(s,3)),e.setAttribute("color",new r.TlE(l,3)),a=new r.UY4({size:S.size,sizeAttenuation:!0,depthWrite:!1,blending:r.WMw,vertexColors:!0}),n=new r.woe(e,a),m.add(n)}function F(){c&&(t.dispose(),i.dispose(),m.remove(c)),t=new r.u9r;let e=new Float32Array(48*S.count),a=new Float32Array(48*S.count);for(let n=0;n<16;n++)for(let t=0;t<S.count;t++){let s=(n*S.count+t)*3,l=Math.random()*S.radius*("fly"===d.gameData.state&&d.gameData.currentPlayer===d.chessData[n].player?2:.5),i=new r.Ilk(S.playerColor[d.chessData[n].player]);"end"===d.chessData[n].state?i.lerp(P,1):d.gameData.touchStar===n?i.lerp(new r.Ilk(S.playerTouchColor[d.chessData[n].player]),1):i.lerp(P,(0,o.is)(0,.1));let c=d.StarBoard[d.chessData[n].index].x,y=d.StarBoard[d.chessData[n].index].y;for(let e=0,a=w.length;e<a;e++)if(n===w[e].chessDateIndex){let a=d.StarBoard[w[e].startIndex],n=d.StarBoard[w[e].endIndex];c=a.x-(a.x-n.x)*w[e].jumpTime/S.starJumpTime,y=a.y-(a.y-n.y)*w[e].jumpTime/S.starJumpTime,w[e].jumpTime++,w[e].jumpTime===S.starJumpTime&&w.splice(e,1);break}e[s]=c/10-5+Math.random()**S.randomnessPower*(.5>Math.random()?1:-1)*S.randomness*l,e[s+1]=y/10-5+Math.random()**S.randomnessPower*(.5>Math.random()?1:-1)*S.randomness*l,e[s+2]=0+Math.random()**S.randomnessPower*(.5>Math.random()?1:-1)*S.randomness*l/3,a[s]=i.r,a[s+1]=i.g,a[s+2]=i.b}t.setAttribute("position",new r.TlE(e,3)),t.setAttribute("color",new r.TlE(a,3)),i=new r.UY4({size:S.size,sizeAttenuation:!0,depthWrite:!1,blending:r.WMw,vertexColors:!0}),c=new r.woe(t,i),m.add(c)}function M(){x&&(y.dispose(),h.dispose(),m.remove(x)),y=new r.u9r;let e=new Float32Array(18*S.count),a=new Float32Array(18*S.count);"dice"===d.gameData.state&&d.gameData.dice++>5&&(d.gameData.dice=1);let n=d.gameData.dice;for(let t=0;t<n;t++)for(let n=0;n<S.count;n++){let s=(t*S.count+n)*3,l=Math.random()*S.radius,i=new r.Ilk(S.playerColor[d.gameData.currentPlayer]);i.lerp(P,(0,o.is)(0,.2)),e[s]=d.dicePosiston[d.gameData.currentPlayer].x+(t>2?.4*t-1.2:.4*t)+Math.random()**S.randomnessPower*(.5>Math.random()?1:-1)*S.randomness*l/5,e[s+1]=d.dicePosiston[d.gameData.currentPlayer].y+(t>2?-.4:0)+Math.random()**S.randomnessPower*(.5>Math.random()?1:-1)*S.randomness*l/5,e[s+2]=0,a[s]=i.r,a[s+1]=i.g,a[s+2]=i.b}y.setAttribute("position",new r.TlE(e,3)),y.setAttribute("color",new r.TlE(a,3)),h=new r.UY4({size:S.size,sizeAttenuation:!0,depthWrite:!1,blending:r.WMw,vertexColors:!0}),x=new r.woe(y,h),m.add(x)}function v(e){if("mouseup"===e.type&&"dice"===d.gameData.state){(function(){if(d.gameData.dice=Math.floor((0,o.is)(1,7)),d.gameData.round<1){let e=0;for(let a=0;a<4;a++)"home"===d.chessData[4*d.gameData.currentPlayer+a].state&&e++;e>3&&(d.gameData.dice=6)}if(d.gameData.state="fly",cancelAnimationFrame(g),M(),console.log("投掷完毕，等待p"+d.gameData.currentPlayer+"行棋"),d.gameData.dice<6){let e=0;for(let a=0;a<4;a++)("home"===d.chessData[4*d.gameData.currentPlayer+a].state||"end"===d.chessData[4*d.gameData.currentPlayer+a].state)&&e++;e>3&&(B(0),console.log("p"+d.gameData.currentPlayer+"不可行棋"))}})();return}let a=-((e.clientX-u.clientWidth/2)/(u.clientHeight/2)*(f.position.z/Math.tan(90-f.getEffectiveFOV()/2))),n=-(-(e.clientY-u.clientHeight/2)/(u.clientHeight/2)*(f.position.z/Math.tan(90-f.getEffectiveFOV()/2)));d.gameData.touchStar=-1;for(let t=0;t<16;t++){let r=d.StarBoard[d.chessData[t].index].x/10-5,s=d.StarBoard[d.chessData[t].index].y/10-5;a<r+.4&&a>r-.4&&n<s+.4&&n>s-.4&&(d.gameData.touchStar=t,"mouseup"===e.type&&"fly"===d.gameData.state&&(d.gameData.currentStar=t,function(e){if(d.chessData[e].player!==d.gameData.currentPlayer||"end"===d.chessData[e].state){console.log("棋子不可行动");return}let a=d.chessData[e].index;if("home"===d.chessData[e].state){if(6===d.gameData.dice)d.chessData[e].index=d.StarRoute[d.gameData.currentPlayer][0],d.chessData[e].state="start",d.gameData.state="dice",I(),console.log("等待p"+d.gameData.currentPlayer+"再次投骰子");else{console.log("棋子不可行动");return}}else{let a=d.StarRoute[d.gameData.currentPlayer].length,n=d.StarRoute[d.gameData.currentPlayer].indexOf(d.chessData[e].index)+d.gameData.dice;d.chessData[e].state="fly",n>=a?(console.log(d.chessData[e]),d.chessData[e].state="end",d.chessData[e].index=d.homeIndex[e],console.log(d.chessData[e])):(d.chessData[e].index=d.StarRoute[d.gameData.currentPlayer][n],49!==d.chessData[e].index&&36!==d.chessData[e].index&&23!==d.chessData[e].index&&10!==d.chessData[e].index&&(d.chessData[e].index===d.StarChannel[0][d.chessData[e].player]?(d.chessData[e].index=d.StarChannel[1][d.chessData[e].player],d.chessData[e].index<52&&d.StarBoard[d.chessData[e].index].player===d.chessData[e].player&&(d.chessData[e].index=d.StarRoute[d.gameData.currentPlayer][d.StarRoute[d.gameData.currentPlayer].indexOf(d.chessData[e].index)+4])):d.chessData[e].index<52&&d.StarBoard[d.chessData[e].index].player===d.chessData[e].player&&(d.chessData[e].index=d.StarRoute[d.gameData.currentPlayer][d.StarRoute[d.gameData.currentPlayer].indexOf(d.chessData[e].index)+4],d.chessData[e].index===d.StarChannel[0][d.chessData[e].player]&&(d.chessData[e].index=d.StarChannel[1][d.chessData[e].player]))));for(let a=0;a<16;a++)d.chessData[a].player!==d.gameData.currentPlayer&&d.chessData[a].index===d.chessData[e].index&&(console.log("p"+d.gameData.currentPlayer+"击毁p"+d.chessData[a].player+"的棋子"),d.chessData[a].index=d.homeIndex[a],d.chessData[a].state="home");d.gameData.dice<6||z()?B(0):(d.gameData.state="dice",I(),console.log("等待p"+d.gameData.currentPlayer+"再次投骰子"))}let n={startIndex:a,endIndex:d.chessData[e].index,chessDateIndex:e,jumpTime:0};w.push(n),F()}(t)))}}function z(){let e=0;for(let a=0;a<4;a++)"end"===d.chessData[4*d.gameData.currentPlayer+a].state&&e++;return e>3}function B(e){e>3&&(console.log("游戏结束！"),d.gameData.state="end"),d.gameData.state="dice",I(),d.gameData.currentPlayer++,d.gameData.currentPlayer>3&&(d.gameData.currentPlayer=0,d.gameData.round++),z()&&B(e),console.log("等待p"+d.gameData.currentPlayer+"投骰子")}b(),d.gameData.state="dice";let T=new r.CP7({canvas:u});T.setSize(D.width,D.height),T.setPixelRatio(Math.min(window.devicePixelRatio,2)),(0,o.Rs)(D,f,T),u.addEventListener("mousemove",v),u.addEventListener("mouseup",v);let k=0,A=()=>{p=requestAnimationFrame(A),10===k&&(k=0,F()),k++,T.render(m,f)};A();let E=0,I=()=>{if("dice"!==d.gameData.state){cancelAnimationFrame(g);return}g=requestAnimationFrame(I),15===E&&(E=0,M()),E++,T.render(m,f)};return I(),(e=>{let a=new l.XS;a.add(S,"isLockCamara",100,1e5,100).onFinishChange(()=>{S.isLockCamara?(C.enableRotate=!1,C.reset()):C.enableRotate=!0}),a.add(S,"count",100,1e5,100).onFinishChange(e),a.add(S,"size",.001,.1,.001).onFinishChange(e),a.add(S,"radius",.01,20,.01).onFinishChange(e),a.add(S,"randomness",0,2,.001).onFinishChange(e),a.add(S,"randomnessPower",1,10,.001).onFinishChange(e),a.add(S,"starJumpTime",100,1e4,1),a.addColor(S,"sceneColor").onFinishChange(()=>{m.background=new r.Ilk(S.sceneColor),b()}),a.addColor(S,"player0Color").onFinishChange(()=>{S.playerColor[0]=S.player0Color,S.playerTouchColor[0]=(0,o.zX)(S.player0Color,70),console.log(S.playerTouchColor[0]),b()}),a.addColor(S,"player1Color").onFinishChange(()=>{S.playerColor[1]=S.player1Color,S.playerTouchColor[1]=(0,o.zX)(S.player1Color,70),b()}),a.addColor(S,"player2Color").onFinishChange(()=>{S.playerColor[2]=S.player2Color,S.playerTouchColor[2]=(0,o.zX)(S.player2Color,70),b()}),a.addColor(S,"player3Color").onFinishChange(()=>{S.playerColor[3]=S.player0Color,S.playerTouchColor[3]=(0,o.zX)(S.player3Color,70),b()}),a.close()})(b),()=>{console.log("清理绑定事件、动画"),u.removeEventListener("mousemove",v),u.removeEventListener("mouseup",v),cancelAnimationFrame(p),cancelAnimationFrame(g),T.clear}},[]),(0,t.jsx)("canvas",{id:"mainCanvas",className:"webgl"}));a.default=c}}]);